<%- include ('partials/header.ejs') %>
<link
  href="https://fonts.googleapis.com/css2?family=Raleway:wght@200&display=swap"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
  integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
  crossorigin="anonymous"
/>
<link
  href="https://fonts.googleapis.com/css2?family=Raleway&display=swap"
  rel="stylesheet"
/>
<script>
    var q = 0;
    var a = 0;
    function showAnswerData(){
        if(a == 0){
        const ans = document.getElementById("ans");
        const que = document.getElementById("que");
        ans.style = "display:block;"
        que.style = "display:none;"
        q = 0;
        a = 1;
        }

        else if(a == 1){
        const ans = document.getElementById("ans");
        const que = document.getElementById("que");
        ans.style = "display:none;"
        que.style = "display:none;"
        a = 0;
        q = 0;
        }

    }
    function showQuestionData(){
        if(q == 0){
        const ans = document.getElementById("ans");
        const que = document.getElementById("que");
        que.style = "display:block;"
        ans.style = "display:none"
        q = 1;
        a = 0;
        }

        else if(q == 1){
        const ans = document.getElementById("ans");
        const que = document.getElementById("que");
        que.style = "display:none;"
        ans.style = "display:none;"
        q = 0;
        a = 0;
        }

    }
</script>
<style>
  .userDetails {
    float: left;
    margin-left: 60px;
    margin-top: 50px;
    width:300px;
  }
  .otherDetails {
    float: right;
    margin-right: 60px;
    margin-top: 50px;
  }
  .showDetails{
      margin-left:45%;
      margin-top:7%;
  }
  .profilePic {
    height: 155px;
    width: 155px;
    border-radius: 50%;
  }
  .qa {
    background-color: rgba(123, 237, 159, 0.7);
    padding: 5px;
  }
  .badg {
    padding: 10px;
  }
  .cross{
      width:30px;
  }
</style>

<div class="userDetails">
  <img class="profilePic" src="<%= user.image %>" /><br /><br />
  <h4 style="font-family: 'Raleway', sans-serif;"><%=user.displayName %><span class="badge badge-warning"
    ><%= user.points%></span
  ></h4></span>
  <br />
  <h4><span class="qa">Role:</span>&nbsp;<span style="font-size:16px;font-family: 'Raleway', sans-serif;"><%= user.role%></h4></span>
  <br />
  <h4><span class="qa">Email:</span>&nbsp;<span style="font-size:16px;font-family: 'Raleway', sans-serif;"><%= user.email%></h4></span>
  <br />
  <h4>
    <span class="qa">Points:</span>&nbsp;<span class="badge badg badge-warning"
      ><%= user.points%></span
    >
  </h4>
  <br />
  <h4>
    <span class="qa">Account Created At:</span>&nbsp;<br /><br /><span
      style="font-size: 16px;"
      ><%= user.createdAt%></span
    >
  </h4>
  <br />
</div>

<div class="otherDetails">
    <button class="btn btn-warning" onclick="showAnswerData()">My Answers</button>&nbsp;&nbsp;
    <button class="btn btn-danger" onclick="showQuestionData()">My Questions</button>
</div>
<div class="showDetails">
    <div id="ans" style="display:none;" class="answer"><h3>Answers
        <h5 style="text-decoration:underline;background-color:rgba(123, 237, 159, 0.7);width:130px;" >My Answers</h5>
    <br>
    <ul>
        <% myAnswers.forEach(function(myAnswer){ %>
            <a href="/answer/<%= myAnswer._id %>"><li>Text: <%= myAnswer.text %></li></a>            
        <% }) %>
    </ul>
    <h5 style="text-decoration:underline;background-color:rgba(123, 237, 159, 0.7);width:218px;">Up Voted Answers</h5>
    <br>
    <ul>
        <% upVotedQuestions.forEach(function(upVotedQuestions){ %>
            <li>Topic: <%= upVotedQuestions.topic %>(<%= upVotedQuestions.subject  %>)</li>
            <li style="text-indent:35px;">Question: <%= upVotedQuestions.text %></li>
            
        <% }) %>
    </ul>
    </h3>
</div>
    <div id="que" style="display:none;" class="question"><h3 style="background-color:rgba(123, 237, 159, 0.7);width:130px;">Questions</h3><br><br>
    <h5 style="text-decoration:underline;background-color:rgba(123, 237, 159, 0.7);width:250px;">Unsolved Questions</h5>
    <br>
    <ul>
        <% myQuestionsUnanswered.forEach(function(myQuestionsUnanswered){ %>
            <a href="/question/<%= myQuestionsUnanswered._id %>"><li>Topic: <%= myQuestionsUnanswered.topic %>(<%= myQuestionsUnanswered.subject  %>)</li></a>
            <li style="text-indent:35px;">Question: <%= myQuestionsUnanswered.text %></li>
            
        <% }) %>
    </ul>
    <h5 style="text-decoration:underline;background-color:rgba(123, 237, 159, 0.7);width:220px;" >Solved Questions</h5>
    <br>
    <ul>
        <% myQuestionsAnswered.forEach(function(myQuestionsAnswered){ %>
            <a href="/question/<%= myQuestionsAnswered._id %>"><li>Topic: <%= myQuestionsAnswered.topic %>(<%= myQuestionsAnswered.subject  %>)</li></a>
            <li style="text-indent:35px;">Question: <%= myQuestionsAnswered.text %></li>
            
        <% }) %>
    </ul>
    <h5 style="text-decoration:underline;background-color:rgba(123, 237, 159, 0.7);width:218px;">Up Voted Questions</h5>
    <br>
    <ul>
        <% upVotedQuestions.forEach(function(upVotedQuestions){ %>
            <a href="/question/<%= upVotedQuestions._id %>"><li>Topic: <%= upVotedQuestions.topic %>(<%= upVotedQuestions.subject  %>)</li></a>
            <li style="text-indent:35px;">Question: <%= upVotedQuestions.text %></li>
            
        <% }) %>
    </ul>
    </div>
</div>
<%- include('partials/footer.ejs') %>
