<%- include('partials/header.ejs') %>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Question</title>

		<script
			src="https://kit.fontawesome.com/a39a7289eb.js"
			crossorigin="anonymous"
		></script>
		<link
			href="https://fonts.googleapis.com/css2?family=Raleway:wght@200;500;700&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Raleway:wght@200;500;700&display=swap"
			rel="stylesheet"
		/>

		<style>
			body {
				margin: 0;
				padding: 0;
				font-family: 'Raleway', sans-serif;
			}

			.container {
				width: 60%;
				margin: 50px auto;
			}

			.header h2.q {
				font-size: 2em;
				color: grey;
			}

			.wrapper-one > .header {
				margin-bottom: 4em;
			}

			.wrapper-one > .header > h2.top {
				position: absolute;
				left: 280px;
				top: 110px;
				z-index: -1;
				opacity: 0.04;
				font-size: 6em;
			}

			.filter > button {
				padding: 6px 15px;
				background-color: transparent;
				outline: none;
				border: none;
				cursor: pointer;
			}

			.wrapper-one > .filter > button.btn-active {
				background-color: #7bed9f;
				border-radius: 20px;
				outline: none;
				border: none;
				cursor: pointer;
			}

			/* Question UI */

			.question-container {
				display: flex;
				padding: 20px;
				/* background-color: #eee;   */
			}

			.stats {
				display: flex;
				flex-basis: 30%;
				justify-content: space-evenly;
				align-items: flex-end;
				color: grey;
				font-size: 0.9em;
			}

			.stat {
				text-align: center;
			}

			.info h3 {
				font-weight: 300;
				color: #0f7ade;
			}

			.info {
				flex-basis: 70%;
			}

			.info .tag-list {
				display: flex;
			}

			.tag-list div.tag {
				padding: 5px 10px;
				border-radius: 20px;
				color: grey;
				border: 1px solid lightgrey;
				font-size: 0.8em;
				margin: 0 5px;
			}

			.publisher {
				color: grey;
				font-size: 0.9em;
				margin-top: 25px;
			}

			.publisher span.asker {
				color: black;
			}

			.publisher p i {
				color: #7bed9f;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<form method="GET" action="/question" class="form-inline">
				<div class="form-check mr-2">
					<input  class="form-check-input" name="subject" type="checkbox" value="Chemistry" id="defaultCheck1">
					<label class="form-check-label" for="defaultCheck1">
					  Chemistry
					</label>
				</div>
				<div class="form-check mx-2">
					<input class="form-check-input" name="subject" type="checkbox" value="Physics" id="defaultCheck2">
					<label class="form-check-label" for="defaultCheck2">
					  Physics
					</label>
				</div>
				<div class="form-check mx-2">
					<input class="form-check-input" name="subject" type="checkbox" value="Biology" id="defaultCheck3">
					<label class="form-check-label" for="defaultCheck3">
					  Biology
					</label>
				</div>
				<div class="form-check mx-2">
					<input class="form-check-input" name="subject" type="checkbox" value="Maths" id="defaultCheck4">
					<label class="form-check-label" for="defaultCheck4">
					  Maths
					</label>
				</div>
				<div class="form-check mx-2">
					<input class="form-check-input" name="subject" type="checkbox" value="English" id="defaultCheck5">
					<label class="form-check-label" for="defaultCheck5">
					  Biology
					</label>
				</div>
				<button class="btn btn-outline-dark my-2 my-sm-0 mx-2" type="submit">
					Filter
				</button>	  
			</form>
			<form method="GET" action="/question" class="form-inline">
				<button class="btn btn-outline-dark my-2 my-sm-0 mx-2">Reset</button>
			</form>
			<div style="margin-top: 30px;" class="wrapper-one">
				<div class="header">
					<h2 style="margin-top: 90px;" class="top">Top</h2>
					<h2 style="margin-top: 50px;" class="q">Questions</h2>
				</div>

				<div class="filter">
					<button class="btn btn-active">Interesting</button>
					<button class="btn">featured</button>
					<button class="btn">Hot</button>
				</div>
			</div>

			<hr style="width: 50%; margin: 30px 0; opacity: 0.4;" />

		
			<% question.forEach((question) => { %>
			<div class="Question">
				<div class="questions-wrapper">
					<div class="question-container">
						<div class="info">
							<a href = "/question/<%=question._id%>">
							<h3 class="Q"> <%= question.topic %> </h3>
							</a>
							<div class="tag-list">
								<% question.tags.forEach((tag) => { %>
								<div class="tag"> <%= tag %> </div>
								<% }) %>
							</div>

							<div class="publisher">
								<p class="">
									<i class="far fa-question-circle"></i> asked 12 min ago
									<span class="asker"> <%= question.askedBy.displayName %> </span>
								</p>
							</div>
						</div>

						<div class="stats">
							<div class="votes stat">
								<p> <%= question.voteScore %> </p>
								<p>votes</p>
								<i class="far fa-thumbs-up"></i>
							</div>

							<div class="stat ans">
								<p> <%= question.answers.length %> </p>
								<p>answer</p>
								<i class="far fa-comment"></i>
							</div>

							<div class="stat views">
								<p> <%= question.views %> </p>
								<p>views</p>
								<i class="fas fa-eye"></i>
							</div>
						</div>
					</div>

					<hr style="width: 70%; margin: 30px auto; opacity: 0.4;" />
				</div>
			<% }) %>
			</div>
		</div>
	</body>
</html>

